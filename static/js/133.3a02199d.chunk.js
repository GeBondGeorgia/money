"use strict";(self.webpackChunkmoney=self.webpackChunkmoney||[]).push([[133],{133:(e,o,a)=>{a.r(o),a.d(o,{default:()=>m});var n=a(791),t=a(270),r=a(766),s=a(929),l=a(184);const m=()=>{const[e,o]=(0,n.useState)({username:"",donateAmount:"",currency:"USD",imageName:"",imageData:"",description:""}),[a,m]=(0,n.useState)("hide"),[i,c]=(0,n.useState)("Click on me"),[d,u]=(0,n.useState)(["USD","GEL","EUR"]),[_,p]=(0,n.useState)("able"),[f,h]=(0,n.useState)({username:"",donateAmount:""}),[x,j]=(0,n.useState)(),N=(0,n.useRef)(null),v=(0,n.useRef)(null);(0,n.useEffect)((()=>{u(["USD","GEL","EUR"])}),[]);const b=a=>{const{name:n,value:t}=a.target;o({...e,[n]:t})},{username:g,donateAmount:y,currency:A,userAvatar:k,description:C}=e;return x?(0,l.jsx)(s.Z,{error:x}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(t.q,{children:[(0,l.jsx)("meta",{charSet:"utf-8"}),(0,l.jsx)("meta",{name:"description",content:"Page to donate for GBC project"}),(0,l.jsx)("title",{children:"Donate Form"}),(0,l.jsx)("link",{rel:"canonical",href:"http://localhost:3000/promo-donate-form"})]}),(0,l.jsx)("div",{className:"black-layer ".concat(a)}),(0,l.jsxs)("form",{disabled:"disable"===_,action:"/submit-url",method:"post",onSubmit:async o=>{o.preventDefault(),(()=>{const o={};let a=!0;return""===e.username.trim()?(o.username="Please write username",a=!1):o.username="",isNaN(+e.donateAmount)||""===e.donateAmount?(o.donateAmount="Please enter a valid number",a=!1):o.donateAmount="",h(o),a})()?(p("able"),(0,r.Z)("user",e,"POST").catch((e=>{j(e.message)}))):p("disable")},className:"promo__donate-form",children:[(0,l.jsx)("div",{className:"promo__donate-form__uploadMenu ".concat(a),children:(0,l.jsxs)("div",{className:"promo__donate-form__uploadMenu-wrapper",children:[(0,l.jsx)("button",{type:"button",className:"promo__donate-form__uploadMenu-closeBtn",onClick:()=>m("hide"),ref:v,children:"\u2718"}),(0,l.jsx)("button",{type:"button",onClick:()=>{N.current.click()},className:"promo__donate-form__uploadMenu-fileBtn",children:"DRAG YOUR IMAGE"})]})}),(0,l.jsx)("div",{className:"promo__donate-form__inputs",children:(0,l.jsxs)("div",{className:"promo__donate-form__inputs-wrapper",children:[(0,l.jsxs)("div",{className:"promo__donate-form__input",children:[(0,l.jsx)("label",{htmlFor:"username",className:"promo__donate-form__input-label",children:"Your name:"}),(0,l.jsx)("input",{id:"username",value:g,onChange:b,type:"text",name:"username",className:"promo__donate-form__input-field"})]}),f.username&&(0,l.jsx)("div",{className:"promo__donate-from__error",children:f.username}),(0,l.jsxs)("div",{className:"promo__donate-form__input",children:[(0,l.jsx)("label",{htmlFor:"donateAmount",className:"promo__donate-form__input-label",children:"Donate Value:"}),(0,l.jsx)("input",{id:"donateAmount",value:y,onChange:b,type:"text",name:"donateAmount",className:"promo__donate-form__input-field"})]}),f.donateAmount&&(0,l.jsx)("div",{className:"promo__donate-from__error",children:f.donateAmount}),(0,l.jsxs)("div",{className:"promo__donate-form__input",children:[(0,l.jsx)("label",{htmlFor:"currency",className:"promo__donate-form__input-label",children:"Currency:"}),(0,l.jsx)("select",{id:"currency",value:A,onChange:b,list:"currencyList",name:"currency",className:"promo__donate-form__input-field promo__donate-form__input-selection",children:d.map((e=>(0,l.jsx)("option",{children:e},e)))})]}),(0,l.jsxs)("div",{className:"promo__donate-form__input",children:[(0,l.jsx)("label",{htmlFor:"userAvatar",className:"promo__donate-form__input-label",children:"Your logo:"}),(0,l.jsx)("button",{id:"userAvatar",onClick:()=>m("active"),type:"button",name:"userAvatar",className:"promo__donate-form__input-field",children:i})]}),(0,l.jsxs)("div",{className:"promo__donate-form__input",children:[(0,l.jsx)("label",{htmlFor:"description",className:"promo__donate-form__input-label",children:"Description:"}),(0,l.jsx)("textarea",{id:"description",value:C,onChange:b,name:"description",className:"promo__donate-form__input-field  promo__donate-form__input-field__textarea"})]})]})}),(0,l.jsx)("input",{type:"submit",value:"SUBMIT",className:"promo__donate-form__button"}),(0,l.jsx)("input",{type:"file",ref:N,name:"userAvatar",value:k,onChange:a=>{const n=a.target.files[0];if("image"!==n.type.split("/")[0])return c("It's not img. Please upload img"),void v.current.click();if(n){const a=new FileReader;a.onloadend=()=>{const t=a.result;console.log(t),o({...e,imageName:n.name,imageData:t})},a.readAsDataURL(n),c("Img has been uploaded, if you want to reupload, click on me again"),v.current.click()}},className:"promo__donate-form__input-field hide"})]})]})}},929:(e,o,a)=>{a.d(o,{Z:()=>t});var n=a(184);const t=e=>{let{error:o}=e;return console.log(o),(0,n.jsxs)("div",{className:"promo__error",children:[(0,n.jsx)("h1",{className:"promo__error-title",children:"ERROR"}),(0,n.jsx)("h2",{onClick:()=>{window.location.reload()},children:"Click on me to reload page"}),(0,n.jsx)("p",{children:o})]})}}}]);
//# sourceMappingURL=133.3a02199d.chunk.js.map