{"version":3,"file":"static/js/133.3a02199d.chunk.js","mappings":"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","sources":["components/promo/promoLeftItem/promoDonateForm/PromoDonateForm.jsx","components/promo/promoLeftItem/promoError/PromoError.jsx"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\nimport { Helmet } from \"react-helmet\";\n\nimport serverAPI from \"../../../../server/serverAPI\";\nimport PromoError from \"../promoError/PromoError\";\n\nimport \"./promoDonateForm.scss\";\n\nconst PromoDonateForm = () => {\n\tconst [formData, setFormData] = useState({\n\t\tusername: \"\",\n\t\tdonateAmount: \"\",\n\t\tcurrency: \"USD\",\n\t\timageName: \"\",\n\t\timageData: \"\",\n\t\tdescription: \"\",\n\t});\n\n\tconst [uploadMenuActive, setUploadMenuActive] = useState(\"hide\");\n\tconst [uploadImgStatus, setUploadImgStatus] = useState(\"Click on me\");\n\tconst [currencyOptions, setCurrencyOptions] = useState([\"USD\", \"GEL\", \"EUR\"]);\n\tconst [formValid, setFormValid] = useState(\"able\");\n\tconst [validateErrors, setValidateErrors] = useState({\n\t\tusername: \"\",\n\t\tdonateAmount: \"\",\n\t});\n\tconst [fetchError, setFetchError] = useState();\n\n\tconst fileInputRef = useRef(null);\n\tconst fileCloseBtnRef = useRef(null);\n\n\tuseEffect(() => {\n\t\tsetCurrencyOptions([\"USD\", \"GEL\", \"EUR\"]);\n\t}, []);\n\n\tconst openFileMenu = () => {\n\t\tfileInputRef.current.click();\n\t};\n\tconst onImgUpload = (event) => {\n\t\tconst file = event.target.files[0];\n\t\tconst fileType = file.type.split(\"/\")[0];\n\n\t\tif (fileType !== \"image\") {\n\t\t\tsetUploadImgStatus(\"It's not img. Please upload img\");\n\t\t\tfileCloseBtnRef.current.click();\n\t\t\treturn;\n\t\t}\n\n\t\tif (file) {\n\t\t\tconst reader = new FileReader();\n\n\t\t\treader.onloadend = () => {\n\t\t\t\tconst base64Img = reader.result;\n\t\t\t\t// This will contain the base64-encoded image\n\t\t\t\tconsole.log(base64Img);\n\n\t\t\t\tsetFormData({\n\t\t\t\t\t...formData,\n\t\t\t\t\timageName: file.name,\n\t\t\t\t\timageData: base64Img,\n\t\t\t\t});\n\t\t\t};\n\n\t\t\treader.readAsDataURL(file);\n\t\t\tsetUploadImgStatus(\n\t\t\t\t\"Img has been uploaded, if you want to reupload, click on me again\"\n\t\t\t);\n\t\t\tfileCloseBtnRef.current.click();\n\t\t}\n\t};\n\n\tconst onChange = (e) => {\n\t\tconst { name, value } = e.target;\n\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[name]: value,\n\t\t});\n\t};\n\n\tconst validateForm = () => {\n\t\tconst newErrors = {};\n\t\tlet valid = true;\n\n\t\tif (formData.username.trim() === \"\") {\n\t\t\tnewErrors.username = \"Please write username\";\n\t\t\tvalid = false;\n\t\t} else {\n\t\t\tnewErrors.username = \"\";\n\t\t}\n\n\t\tif (isNaN(+formData.donateAmount) || formData.donateAmount === \"\") {\n\t\t\tnewErrors.donateAmount = \"Please enter a valid number\";\n\t\t\tvalid = false;\n\t\t} else {\n\t\t\tnewErrors.donateAmount = \"\";\n\t\t}\n\n\t\tsetValidateErrors(newErrors);\n\t\treturn valid;\n\t};\n\n\tconst postUserDonationForm = async (e) => {\n\t\te.preventDefault();\n\n\t\tif (validateForm()) {\n\t\t\tsetFormValid(\"able\");\n\n\t\t\tserverAPI(\"user\", formData, \"POST\").catch((error) => {\n\t\t\t\tsetFetchError(error.message);\n\t\t\t});\n\t\t} else {\n\t\t\tsetFormValid(\"disable\");\n\t\t}\n\t};\n\n\tconst { username, donateAmount, currency, userAvatar, description } = formData;\n\n\tif (fetchError) {\n\t\treturn <PromoError error={fetchError} />;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Helmet>\n\t\t\t\t<meta charSet=\"utf-8\" />\n\t\t\t\t<meta name=\"description\" content=\"Page to donate for GBC project\" />\n\n\t\t\t\t<title>Donate Form</title>\n\n\t\t\t\t<link rel=\"canonical\" href=\"http://localhost:3000/promo-donate-form\" />\n\t\t\t</Helmet>\n\n\t\t\t<div className={`black-layer ${uploadMenuActive}`}></div>\n\t\t\t<form\n\t\t\t\tdisabled={formValid === \"disable\"}\n\t\t\t\taction=\"/submit-url\"\n\t\t\t\tmethod=\"post\"\n\t\t\t\tonSubmit={postUserDonationForm}\n\t\t\t\tclassName=\"promo__donate-form\"\n\t\t\t>\n\t\t\t\t<div className={`promo__donate-form__uploadMenu ${uploadMenuActive}`}>\n\t\t\t\t\t<div className=\"promo__donate-form__uploadMenu-wrapper\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"promo__donate-form__uploadMenu-closeBtn\"\n\t\t\t\t\t\t\tonClick={() => setUploadMenuActive(\"hide\")}\n\t\t\t\t\t\t\tref={fileCloseBtnRef}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t&#x2718;\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={openFileMenu}\n\t\t\t\t\t\t\tclassName=\"promo__donate-form__uploadMenu-fileBtn\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDRAG YOUR IMAGE\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"promo__donate-form__inputs\">\n\t\t\t\t\t<div className=\"promo__donate-form__inputs-wrapper\">\n\t\t\t\t\t\t<div className=\"promo__donate-form__input\">\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\thtmlFor=\"username\"\n\t\t\t\t\t\t\t\tclassName=\"promo__donate-form__input-label\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tYour name:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\tclassName=\"promo__donate-form__input-field\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{validateErrors.username && (\n\t\t\t\t\t\t\t<div className=\"promo__donate-from__error\">\n\t\t\t\t\t\t\t\t{validateErrors.username}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"promo__donate-form__input\">\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\thtmlFor=\"donateAmount\"\n\t\t\t\t\t\t\t\tclassName=\"promo__donate-form__input-label\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tDonate Value:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"donateAmount\"\n\t\t\t\t\t\t\t\tvalue={donateAmount}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"donateAmount\"\n\t\t\t\t\t\t\t\tclassName=\"promo__donate-form__input-field\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{validateErrors.donateAmount && (\n\t\t\t\t\t\t\t<div className=\"promo__donate-from__error\">\n\t\t\t\t\t\t\t\t{validateErrors.donateAmount}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"promo__donate-form__input\">\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\thtmlFor=\"currency\"\n\t\t\t\t\t\t\t\tclassName=\"promo__donate-form__input-label\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCurrency:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tid=\"currency\"\n\t\t\t\t\t\t\t\tvalue={currency}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\tlist=\"currencyList\"\n\t\t\t\t\t\t\t\tname=\"currency\"\n\t\t\t\t\t\t\t\tclassName=\"promo__donate-form__input-field promo__donate-form__input-selection\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{currencyOptions.map((option) => (\n\t\t\t\t\t\t\t\t\t<option key={option}>{option}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"promo__donate-form__input\">\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\thtmlFor=\"userAvatar\"\n\t\t\t\t\t\t\t\tclassName=\"promo__donate-form__input-label\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tYour logo:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tid=\"userAvatar\"\n\t\t\t\t\t\t\t\tonClick={() => setUploadMenuActive(\"active\")}\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tname=\"userAvatar\"\n\t\t\t\t\t\t\t\tclassName=\"promo__donate-form__input-field\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{uploadImgStatus}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"promo__donate-form__input\">\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\thtmlFor=\"description\"\n\t\t\t\t\t\t\t\tclassName=\"promo__donate-form__input-label\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tDescription:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\tclassName=\"promo__donate-form__input-field \n                            promo__donate-form__input-field__textarea\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvalue=\"SUBMIT\"\n\t\t\t\t\tclassName=\"promo__donate-form__button\"\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\tref={fileInputRef}\n\t\t\t\t\tname=\"userAvatar\"\n\t\t\t\t\tvalue={userAvatar}\n\t\t\t\t\tonChange={onImgUpload}\n\t\t\t\t\tclassName=\"promo__donate-form__input-field hide\"\n\t\t\t\t/>\n\t\t\t</form>\n\t\t</>\n\t);\n};\n\nexport default PromoDonateForm;\n","const PromoError = ({ error }) => {\n\tconsole.log(error);\n\treturn (\n\t\t<div className=\"promo__error\">\n\t\t\t<h1 className=\"promo__error-title\">ERROR</h1>\n\t\t\t<h2\n\t\t\t\tonClick={() => {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tClick on me to reload page\n\t\t\t</h2>\n\t\t\t<p>{error}</p>\n\t\t</div>\n\t);\n};\n\nexport default PromoError;\n"],"names":["PromoDonateForm","formData","setFormData","useState","username","donateAmount","currency","imageName","imageData","description","uploadMenuActive","setUploadMenuActive","uploadImgStatus","setUploadImgStatus","currencyOptions","setCurrencyOptions","formValid","setFormValid","validateErrors","setValidateErrors","fetchError","setFetchError","fileInputRef","useRef","fileCloseBtnRef","useEffect","onChange","e","name","value","target","userAvatar","_jsx","PromoError","error","_jsxs","_Fragment","children","Helmet","charSet","content","rel","href","className","concat","disabled","action","method","onSubmit","async","preventDefault","validateForm","newErrors","valid","trim","isNaN","serverAPI","catch","message","type","onClick","ref","openFileMenu","current","click","htmlFor","id","list","map","option","event","file","files","split","reader","FileReader","onloadend","base64Img","result","console","log","readAsDataURL","_ref","window","location","reload"],"sourceRoot":""}